# Set the name of the binary we're compiling
set(TARGET_NAME foobar)

# Add all source file names to an array for later use. You can use GLOB if
# you're feeling lazy, but it's considered better practice to list all of your
# source files explicitly like so:
#
# file(SRC_FILES foo.cpp
#                bar.cpp
# )
file(GLOB SRC_FILES *.cpp)

# Specify the executable you would like to generate. The first argument is the
# name of the binary you'd like to build, and the rest of the arguments are the
# source files you want to compile. Note that building a library works much the
# same way, except you have to specify whether it's static, dynamic, or a
# module, as follows:
# add_library(${TARGET_NAME} <STATIC | SHARED | MODULE> ${SRC_FILES})
add_executable(${TARGET_NAME} ${SRC_FILES})

# Set your include directories. Generally your variables will be generated by
# the CMake modules you use to locate the libraries, or you can set them on the
# fly with ccmake or the CMake GUI if your libraries are in nonstandard
# locations or you're on Windows. CMAKE_SOURCE_DIR refers to the root of your
# project, and it should also be noted that you should not surround list names
# with double quotes since it causes problems when dereferencing it.
target_include_directories(${TARGET_NAME}
                          ${BAR_INCLUDE_DIRS}
                          "${CMAKE_SOURCE_DIR}/include"
                          "${FOO_INCLUDE_DIR}"
)

# Again, your variables should mostly be generated by the CMake modules you're
# using unless you set them yourself. Also, if you need to compile a small
# library for your project you can also add the TARGET_NAME you set for it to
# be compiled with and CMake is smart enough to make the association and link
# your libraries properly.
target_link_libraries(${TARGET_NAME} "${FOO_LIBRARY}" ${BAR_LIBRARIES})

# When install is used (make install or the INSTALL solution in VS) copy the
# binary to the folder TARGET_FOLDER. Note that the location of MyModule is
# determined by the CMAKE_INSTALL_PREFIX variable.
install (TARGETS ${TARGET_NAME} DESTINATION TARGET_FOLDER)
